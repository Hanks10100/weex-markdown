!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.WeexMarkdownComponent=t()}(this,function(){"use strict";function e(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function t(n,s,i,o){void 0===i&&(i=[]);for(var a,l=!1;n;)if(a=r.escape.exec(n))n=n.substring(a[0].length);else{if(a=r.heading.exec(n)){n=n.substring(a[0].length);var p=a[1].length,c=[];i.push({type:"span",style:s["h"+p],children:c}),t(a[2],s,c,s["h"+p])}if(a=r.link.exec(n)){n=n.substring(a[0].length),l=!0;var u=[];i.push({type:"a",style:s.a,attr:{href:a[2]},children:u}),t(a[1],s,u),l=!1}else if(l||!(a=r.url.exec(n))){if(a=r.strong.exec(n)){n=n.substring(a[0].length);var h=[];i.push({type:"span",style:s.strong,children:h}),t(a[2]||a[1],s,h)}else if(a=r.em.exec(n)){n=n.substring(a[0].length);var f=[];i.push({type:"span",style:s.em,children:f}),t(a[2]||a[1],s,f)}else if(a=r.del.exec(n)){n=n.substring(a[0].length);var g=[];i.push({type:"span",style:s.del,children:g}),t(a[1],s,g,s.del)}else if(a=r.codespan.exec(n))n=n.substring(a[0].length),i.push({type:"span",style:Object.assign({},s.codespan,o),attr:{value:e(a[2],!0)}});else if(a=r.text.exec(n))n=n.substring(a[0].length),i.push({type:"span",style:Object.assign({},s.text,o),attr:{value:e(a[0])}});else if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}else{n=n.substring(a[0].length);var d=e(a[1]);i.push({type:"a",style:s.a,attr:{href:d},children:[{type:"span",attr:{value:d}}]})}}}function n(e,n){void 0===n&&(n={});var s=[];return t(e,n,s),s}function s(e){return e.split(o).map(function(e){return e.replace(/[\s\n\t]+/g," ").trim()})}var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,link:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]\((https?:\/\/[^\s<]+[^<.,:;"')\]\s])\)/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,codespan:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:/^[\s\S]+?(?=[\\<!\[_*`~]|https?:\/\/| {2,}\n|$)/},i=function(e){return e.map(function(e){return e.children?i(e.children):e.text}).join("")},o=/[\n\t]{2,}/;return{name:"markdown",props:{content:String,theme:{type:Object,default:function(){return{a:{color:"#3333FF"},codespan:{fontFamily:"monospace",backgroundColor:"#E8E8E8",paddingLeft:5,paddingRight:5,borderRadius:3},del:{textDecoration:"line-through"},em:{fontStyle:"italic"},h1:{fontSize:"74px",textAlign:"center"},h2:{fontSize:"62px"},h3:{fontSize:"50px"},h4:{fontSize:"38px"},h5:{fontSize:"28px"},h6:{fontSize:"18px"},strong:{fontWeight:700},text:{fontSize:"32px"}}}}},render:function(e){var t=this,r=this.content||i(this.$slots.default);return e("div",{},s(r).map(function(s){return e("richtext",{style:{marginTop:"10px",marginBottom:"15px"},attrs:{value:n(s,t.theme)}})}))}}});
